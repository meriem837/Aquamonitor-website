<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸŒ± aquasmart</title>
    <style>
      body {
        width: 100%;
        padding: 0;
        margin: 0;
      }
      .agriculture-pic {
        width: 100%;
        border-radius: 0 0 20px 20px;
        margin: 0 10px;
      }
      .image-container {
        position: relative;
        width: 100%;
        height: auto;
      }

      h1 {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        margin: 0;
        color: white;
        font-size: 50px;
        font-weight: bold;
        text-align: center;
      }
      .divider {
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        margin-top: 20px;
        margin-left: auto;
        margin-right: auto;
        width: 60%;
      }

      .divider::before,
      .divider::after {
        content: "";
        flex: 1;
        border-bottom: 2px solid #006400;
      }

      .divider:not(:empty)::before {
        margin-right: 0.5em;
      }

      .divider:not(:empty)::after {
        margin-left: 0.5em;
      }

      .divider-text {
        font-size: 18px;
        font-weight: bold;
        color: #006400;
      }
      .sensors {
        display: flex;
        justify-content: center;
        align-items: stretch;
        gap: 20px;
        padding: 20px;
        margin-left: 20px;
      }

      .sensor-data {
        background-color: #ebf5ec;
        border-radius: 12px;
        width: 160px;
        height: 120px;
        text-align: center;
        padding: 30px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .sensor-data .fake-data {
        font-size: 28px;
        font-weight: bold;
        color: #006400;
        margin-bottom: 10px;
      }

      .sensor-data:nth-child(2) {
        background-color: #46973b;
        color: white;
      }

      .sensor-data:nth-child(2) .fake-data {
        color: white;
      }
      .logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 10px auto;
        gap: 5px;
        max-width: fit-content;
      }

      .logo {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 1.5px solid #46973b;
        object-fit: cover;
      }

      .logo-text {
        font-size: 12px;
        font-weight: 600;
        color: #d0ad00;
        font-family: Arial, sans-serif;
      }
      .plant-type {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        margin: -15px auto 0;
        padding: 10px;
        width: fit-content;
      }
      .plant-button {
        margin: 5px;
        padding: 5px;
        font-size: 20px;
        border-radius: 10px;
        border-color: #ebf5ec;
      }
      .plant-button:hover {
        background-color: #ebf5ec;
        cursor: pointer;
      }
      .buttons {
        margin-top: 20px;
        margin-left: 10px;
      }
      .irrigation-operation {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 20px 10px;
        background-color: #46973b;
        color: white;
        margin-right: -22px;
        margin-top: 15px;
      }

      .right-side-irrigation {
        width: 66.66%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .irrigation-title {
        font-size: 30px;
        font-weight: bold;
        margin-bottom: 20px;
      }

      .right-side-irrigation button {
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        background-color: white;
        color: #46973b;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        transition: 0.3s ease;
      }
      .right-side-irrigation button:hover {
        color: white;
        background-color: #006400;
        border: 1px solid white;
      }
      .pic-of-a-pant {
        width: 33.33%;
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        margin-left: 20px;
      }
      .progress {
        width: 160px;
        height: 160px;
        margin-bottom: 30px;
        position: relative;
      }

      .outer {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: white;
      }

      .inner {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background-color: #46973b;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #number {
        font-weight: 600;
        font-size: 30px;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
      }
      circle {
        fill: none;
        stroke: #006400;
        stroke-width: 20px;
        stroke-dasharray: 450;
        stroke-dashoffset: 450;
      }
      .animate {
        animation: anim 5s linear forwards;
        animation-play-state: running;
      }
      @keyframes anim {
        100% {
          stroke-dashoffset: 0;
        }
      }
      svg {
        position: absolute;
        top: 0;
        left: 0;
      }
      h2 {
        font-size: 15px;
        margin-bottom: 0;
      }
      footer {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 30px;
      }
      .coder {
        margin-top: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="image-container">
      <img
        src="aquasmart pic.jpg"
        class="agriculture-pic"
        alt="Irrigation Image"
      />
      <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</h1>
    </div>
    <div class="divider">
      <span class="divider-text">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ´Ø¹Ø±Ø§Øª</span>
    </div>
    <div class="sensors">
      <div class="sensor-data">
        <div class="fake-data"><span id="soilHumidity">40</span>%</div>
        Ù…Ø³ØªØ´Ø¹Ø± Ø±Ø·ÙˆØ¨Ø© Ø§Ù„ØªØ±Ø¨Ø©
      </div>
      <div class="sensor-data">
        <div class="fake-data"><span id="airTemperature">25</span>Â°C</div>
        Ù…Ø³ØªØ´Ø¹Ø± Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©
      </div>
      <div class="sensor-data">
        <div class="fake-data"><span id="airHumidity">60</span>%</div>
        Ù…Ø³ØªØ´Ø¹Ø± Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡
      </div>
    </div>
    <div class="logo-container">
      <img class="logo" src="logo aquasmart.jpeg" />
      <span class="logo-text">aquasmart</span>
    </div>
    <div class="plant-type">
      Ù…Ø§ Ù‡Ùˆ Ù†ÙˆØ¹ Ø§Ù„Ù†Ø¨ØªØ© Ø§Ù„Ø°ÙŠ ØªØ²Ø±Ø¹Ù‡Ø§ØŸ
      <div class="buttons">
        <button class="plant-button" id="Ø§Ù„Ù‚Ù…Ø­">ğŸŒ¾ Ø§Ù„Ù‚Ù…Ø­</button>
        <button class="plant-button" id="Ø§Ù„Ø´Ø¹ÙŠØ±">ğŸŒ¿ Ø§Ù„Ø´Ø¹ÙŠØ±</button>
        <button class="plant-button" id="Ø§Ù„Ø²ÙŠØªÙˆÙ†">ğŸ«’ Ø§Ù„Ø²ÙŠØªÙˆÙ†</button>
        <button class="plant-button" id="Ø§Ù„Ø·Ù…Ø§Ø·Ù…">ğŸ… Ø§Ù„Ø·Ù…Ø§Ø·Ù…</button>
        <button class="plant-button" id="Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª">ğŸŠ Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª</button>
        <button class="plant-button" id="Ø§Ù„Ø¨Ø·Ø§Ø·Ø³">ğŸ¥” Ø§Ù„Ø¨Ø·Ø§Ø·Ø³</button>
        <button class="plant-button" id="Ø§Ù„Ø¨ØµÙ„">ğŸ§…Ø§Ù„Ø¨ØµÙ„</button>
        <button class="plant-button" id="Ø§Ù„Ø´Ù…Ù†Ø¯Ø± Ø§Ù„Ø³ÙƒØ±ÙŠ">
          ğŸ¬ Ø§Ù„Ø´Ù…Ù†Ø¯Ø± Ø§Ù„Ø³ÙƒØ±ÙŠ
        </button>
        <button class="plant-button" id="Ø§Ù„Ø°Ø±Ø©">ğŸŒ½ Ø§Ù„Ø°Ø±Ø©</button>
        <button class="plant-button" id="Ø§Ù„Ø¨Ø·ÙŠØ®">ğŸ‰ Ø§Ù„Ø¨Ø·ÙŠØ®</button>
      </div>
    </div>
    <div class="irrigation-operation">
      <div class="right-side-irrigation">
        <div class="irrigation-title">Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±ÙŠ</div>
        <div class="progress">
          <div class="outer">
            <div class="inner">
              <div id="number">0%</div>
            </div>
          </div>
          <svg
            xmlns="https://www.w3.org/2000/svg"
            version="1.1"
            width="160px"
            height="160px"
          >
            <defs>
              <lineargradient id="gradientColor">
                <stop offset="0%" stop-color="#DA22FF" />
                <stop offset="100%" stop-color="#9733EE" />
              </lineargradient>
            </defs>
            <circle cx="80" cy="80" r="70" stroke-linecap="round" />
          </svg>
        </div>
        <button id="irrigation-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±ÙŠ</button>
      </div>
      <img src="plant illustration.png" class="pic-of-a-pant" />
    </div>
    <footer>
      <h2>ğŸ“± ØªØ§Ø¨Ø¹ÙˆÙ†Ø§ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…!</h2>
      <a
        href="https://www.instagram.com/aquasmart._?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
        target="_blank"
      >
        Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù…ØªØ§Ø¨Ø¹ØªÙ†Ø§</a
      >
      <div class="coder">
        This website was coded with â¤ï¸ by Meriem Elazzaoui
      </div>
    </footer>
  </body>
  <script>
    const plants = [
      { id: "Ø§Ù„Ù‚Ù…Ø­", waterLitersPerDay: 4.3 },
      { id: "Ø§Ù„Ø´Ø¹ÙŠØ±", waterLitersPerDay: 3.6 },
      { id: "Ø§Ù„Ø²ÙŠØªÙˆÙ†", waterLitersPerDay: 7.1 },
      { id: "Ø§Ù„Ø·Ù…Ø§Ø·Ù…", waterLitersPerDay: 5.7 },
      { id: "Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª", waterLitersPerDay: 8.6 },
      { id: "Ø§Ù„Ø¨Ø·Ø§Ø·Ø³", waterLitersPerDay: 5 },
      { id: "Ø§Ù„Ø¨ØµÙ„", waterLitersPerDay: 4.3 },
      { id: "Ø§Ù„Ø´Ù…Ù†Ø¯Ø± Ø§Ù„Ø³ÙƒØ±ÙŠ", waterLitersPerDay: 6.4 },
      { id: "Ø§Ù„Ø°Ø±Ø©", waterLitersPerDay: 7.1 },
      { id: "Ø§Ù„Ø¨Ø·ÙŠØ®", waterLitersPerDay: 6.4 },
    ]; //this data is for the normal conditions which are Air Temperature	23Â°C, Air Humidity	55%,Soil Moisture	45%;
    function water(event) {
      event.preventDefault();
      const clickedId = event.target.id;
      const plant = plants.find((p) => p.id === clickedId);
      processPlant(plant);
      let buttons = document.querySelector(".buttons");
      buttons.innerHTML = `Ø§Ø³ØªÙ†Ø§Ø¯Ù‹Ø§ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø§Øª ÙˆÙ†ÙˆØ¹ Ø§Ù„Ù†Ø¨ØªØ© (${
        plant.id
      })ØŒ ØªØ­ØªØ§Ø¬ Ù†Ø¨ØªØªÙƒ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ Ø¥Ù„Ù‰ ${Math.round(
        waterNeeded
      )} Ù„ØªØ±/Ù…Â² Ø§Ù„ÙŠÙˆÙ…. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ù‚ÙŠ ğŸ˜Š`;
    }
    let waterNeeded;
    let plantButtons = document.querySelectorAll(".plant-button");
    plantButtons.forEach((button) => {
      button.addEventListener("click", water);
    });
    function processPlant(plant) {
      waterNeeded = plant.waterLitersPerDay;
      let soilHumidity = 40;
      let airTemperature = 25;
      let airHumidity = 60;
      if (soilHumidity > 45) {
        let extraHumidity = soilHumidity - 45;
        let soilHumidityPercentage = extraHumidity / 45;
        waterNeeded = waterNeeded - waterNeeded * soilHumidityPercentage;
      } else {
        let neededHumidity = 45 - soilHumidity;
        percentage = neededHumidity / 45;
        waterNeeded = waterNeeded + waterNeeded * percentage;
      }
      if (airTemperature > 23) {
        let extraTemperature = airTemperature - 23;
        let TemperaturePercentage = extraTemperature / 23;
        waterNeeded = waterNeeded + waterNeeded * TemperaturePercentage;
      } else {
        let neededTemperature = 23 - airTemperature;
        TemperaturePercentage = neededTemperature / 23;
        waterNeeded = waterNeeded - waterNeeded * TemperaturePercentage;
      }
      if (airHumidity > 55) {
        let extraAirHumidity = airHumidity - 55;
        let airHumidityPercentage = extraAirHumidity / 55;
        waterNeeded = waterNeeded - waterNeeded * airHumidityPercentage;
      } else {
        let neededAirHumidity = 55 - airHumidity;
        airHumidityPercentage = neededAirHumidity / 55;
        waterNeeded = waterNeeded - waterNeeded * airHumidityPercentage;
      }
    }
    // circular progress bar
    let counter = 0;
    const intervalTime = 50;
    let intervalID;
    let irrigationRunning = false;
    let irrigationStarted = false;
    let plantSelected = false;

    const irrigationButton = document.querySelector("#irrigation-button");
    const number = document.querySelector("#number");
    const circle = document.querySelector("circle");

    // Only one click listener
    irrigationButton.addEventListener("click", handleIrrigationAction);

    function handleIrrigationAction(event) {
      event.preventDefault();

      if (!plantSelected) {
        alert("Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù†Ø¨ØªØ© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ù‡Ø°Ø§ Ø£Ù…Ø± Ø¶Ø±ÙˆØ±ÙŠ.ğŸ””");
        return;
      }

      if (!irrigationStarted) {
        startIrrigation();
      } else if (irrigationStarted && irrigationRunning) {
        stopIrrigation();
      } else if (irrigationStarted && !irrigationRunning) {
        continueIrrigation();
      }
    }

    function startIrrigation() {
      circle.classList.add("animate");
      irrigationButton.textContent = "Ø£ÙˆÙ‚Ù Ø§Ù„Ø³Ù‚ÙŠ";
      irrigationStarted = true;
      irrigationRunning = true;

      intervalID = setInterval(() => {
        if (counter >= 100) {
          clearInterval(intervalID);
          irrigationButton.textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø³Ù‚ÙŠ";
          irrigationRunning = false;
        } else {
          counter++;
          number.textContent = `${counter}%`;
        }
      }, intervalTime);
    }

    function stopIrrigation() {
      clearInterval(intervalID);
      circle.style.animationPlayState = "paused";

      irrigationRunning = false;
      irrigationButton.textContent = "ØªØ§Ø¨Ø¹ Ø§Ù„Ø³Ù‚ÙŠ";
    }

    function continueIrrigation() {
      circle.style.animationPlayState = "running";

      irrigationRunning = true;
      irrigationButton.textContent = "Ø£ÙˆÙ‚Ù Ø§Ù„Ø³Ù‚ÙŠ";

      intervalID = setInterval(() => {
        if (counter >= 100) {
          clearInterval(intervalID);
          alert("Ù„Ù‚Ø¯ Ø§Ù†ØªÙ‡Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ù‚ÙŠ Ø§Ù„ÙŠÙˆÙ… ØŒ Ø§Ù„Ù‰ Ø§Ù„ØºØ¯ ğŸ‘‹");
          irrigationButton.textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø³Ù‚ÙŠ";
          irrigationRunning = false;
        } else {
          counter++;
          number.textContent = `${counter}%`;
        }
      }, intervalTime);
    }
    plantButtons.forEach((button) => {
      button.addEventListener("click", () => {
        plantSelected = true;
      });
    });
  </script>
</html>
